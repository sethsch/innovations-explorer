# Capstone Project Documentation

## **Data Collection and Preparation**

### **Awards Data**

#### **Downloading the data**

- API download vs. manual download (scripts success/failure, vs. time)

- Download of Solicitations and Topics

- SBIR.gov
    - Code book/dictionary can be found [here](data/sbir/dictionaries/Data_Dictionary_Public_2020_10_16.xlsx) 

#### **Reviewing qualitative variables**

- Deleted: researcher personal information, Proposal_Award_Date	Contract_End_Date	Solicitation_Number, address lines and zip

- Show potential qualitative variables, mention % with / without

- Get Award values from the dictionaries I downloaded

- Show Topic and Solicitation Structure

- Thematic variable presence (All Programs)
    - "num_awards": 65749,
    - "pct_wTopic": 94.14%
    - "pct_wKeywords": 43.53%
            
- Grant detail variables (All Programs)
    - "pct_WomenOwned": 12.84%
    - "pct_SED": 6.17%
    - "pct_hubZone": 2.45%

 <br>
 

#### **Award making details by Agency and Program**
<table style="border-collapse:collapse;border-spacing:0;table-layout: fixed; width: 2051px" class="tg"><colgroup><col style="width: 296px"><col style="width: 95px"><col style="width: 149px"><col style="width: 235px"><col style="width: 122px"><col style="width: 135px"><col style="width: 140px"><col style="width: 142px"><col style="width: 70px"><col style="width: 165px"><col style="width: 151px"><col style="width: 115px"><col style="width: 236px"></colgroup><thead><tr><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">All Agencies</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Nat'l Science Found.</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. Health and Human Services</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Defense</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Education</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Commerce</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Agriculture</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">NASA</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Transportation</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. Homeland Sec.</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Dept. of Energy</th><th style="background-color:#9b9b9b;border-color:#656565;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Environmental Protection Agency</th></tr></thead><tbody><tr><td style="background-color:#c0c0c0;border-color:inherit;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" colspan="13">Small Business Innovation Research (SBIR) Program</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">Awards</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">57,182</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">4,121</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12,369</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">27,425</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">335</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">516</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">1,166</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">5,126</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">307</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">697</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">4,682</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">437</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">Total Amount ($M)</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$24,983 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1,163 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$7,891 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$11,651 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$102 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$96 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$237 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1,478 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$93 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$282 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1,933 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$56 M</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% with Topic Codes</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">93.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">100.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">79.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">99.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">38.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">77.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">81.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">98.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">96.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">88.2%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">96.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">81.5%</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% with Research Keywords</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">43.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">69.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">60.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">38.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">88.6%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">60.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">28.1%</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Women Owned Businesses</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">14.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">14.6%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">18.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">9.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">9.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">10.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">22.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">10.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">6.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.6%</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Businesses Owned by Socioeconomically Disadvantaged Groups</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">59.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">9.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">4.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">6.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">5.2%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">19.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">4.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">5.5%</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Businesses in Hubzones</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">1.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">3.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">5.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">1.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">3.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">3.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">6.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.3%</td></tr><tr><td style="background-color:#c0c0c0;border-color:inherit;border-style:solid;border-width:1px;color:#000000;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" colspan="13">Small Business Technology Transfer (STTR) Program</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">Awards</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8,567</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">700</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2,090</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">4,435</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">678</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">1</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">663</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0</td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">Total Amount ($M)</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$3,226 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$189 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1,034 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1,543 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$205 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$1 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">$254 M</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% with Topic Codes</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">95.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">96.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">84.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">99.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">98.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">100.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">99.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% with Research Keywords</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">43.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">71.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">85.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Women Owned Businesses</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">15.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12.3%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">12.6%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">11.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Businesses Owned by Socioeconomically Disadvantaged Groups</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.2%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8.7%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">11.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">7.4%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:bottom;word-break:normal">% to Businesses in Hubzones</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.5%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">8.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">2.1%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">1.8%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">0.0%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">6.9%</td><td style="border-color:#c0c0c0;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:100%;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr></tbody></table>


##### Comments
- Success rate joining solicitations and topics, apparent mismatch non-unique ID issue...perhaps URIs would be better? Perhaps API calls could've been used that would've made things work better?  Saw that the URLs were mostly unique where they existed but they resolved to landing pages with Topics that had non-unique Topic Codes, meaning there wasn't a good way to link topic codes to unique URLs

- Success rates: from linking attempts in [`join_AwardsTopicSolic.py`](scripts/join_AwardsTopicSolic.py)
    - % Awards with Solicitation Code 81.42%
    - % Awards with Topic Codes 94.13%
    - % Awards where Solicitations Info was grabbed 52.13%
    - % Awards where topic info was grabbed 32.17%

- Use tf-idf, textrank and RAKE + dictionary based extraction

- File size keeping the unigrams vs. bigrams
- Rate of inclusion for other qual vars (table)






### **Vocabularies, Taxonomies and Linked Open Data Ontologies**
<br/>

#### **Sources of knowledge organization schemes reviewed or consulted**

The sources below reflect a variety of statistical, economic, bibliographic and policy area classifications and specialized vocabulary.  Terminology from each source can be extracted and indexed within a corpus, in order to enhance qualitative understanding.  Dictionary based topic modeling using sources like these can potentially provide qualitative analysts with a more ready form of evidence to interpret.  To enhance dictionary based extraction in the future, though, a common set of pre-processing techniques (including lemmatization, stemming, etc.) might be applied to both the dictionary and the source text.  Comparing dictionary based methods of keyword extraction to mathematical methods is one aim of this project.

| Source                                                                                                                                                                                                                                                   | Description                                                                                      | Used?                        |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ---------------------------: |
| [STW Thesaurus of Economics](http://zbw.eu/stw)                                                                                                                                                                                                          | Areas of economics                                                                               | Y                            |
| [Food and Agriculture Organization of the United Nations - AGROVOC Thesaurus](http://www.fao.org/agrovoc/)                                                                                                                                               | Food systems and agricutltural classifications from the UN                                       | Y                            |
| [GESIS Thesaurus of Social Sciences](http://lod.gesis.org/)                                                                                                                                                                                              | Areas of social sciences                                                                         | N                            |
| [EuroSciVoc - European Science Vocabulary](https://op.europa.eu/en/web/eu-vocabularies/dataset/-/resource?uri=http://publications.europa.eu/resource/dataset/euroscivoc)                                                                                 | Science related classifications from the European Commission                                     | Y                            |
| [European Institute for Gender Equality (EIGE) Glossary & Thesaurus](https://eige.europa.eu/thesaurus/overview)                                                                                                                                          | Gender equality thesaurus from the European Commission                                           | Y                            |
| [European Environment Agency General Multilingual Environmental Thesaurus (GEMET)](https://www.eionet.europa.eu/gemet/en/themes/)                                                                                                                        | Environmental issue classifications from the European Commission                                 | Y                            |
| [REEGLE Clean Energy Linked Data](http://data.reeep.org/)                                                                                                                                                                                                | Clean energy and environmental area thesarus from REEP/REEGLE                                    | Y                            |
| [EUROVOC Thesaurus of Activities related to the EU](https://op.europa.eu/en/web/eu-vocabularies/dataset/-/resource?uri=http://publications.europa.eu/resource/dataset/eurovoc)                                                                           | Governmental, social, political, legal and economic classifications from the European Commission | Y (removed abbrev < 5 chars) |
| [American Economic Association JEL classifications](https://www.aeaweb.org/econlit/jelCodes.php?view=econlit)                                                                                                                                            | Areas of economics                                                                               | N                            |
| [European Commission Skills, Competencies, qualifications and Occupations](https://ec.europa.eu/esco/portal/skill)                                                                                                                                       | Skill, labor sector and occupational classifications from the European Commission                | N                            |
| [EU Statistical classification of products by activity, 2.1 (CPA 2.1)](https://op.europa.eu/en/web/eu-vocabularies/dataset/-/resource?uri=http://publications.europa.eu/resource/dataset/statistical-classification)                                     | Statistical classifications of products, from the European Commission                            | N                            |
| [UN International classifications on economic statistics](https://unstats.un.org/unsd/classifications/Econ) <br/> - Central product classification (CPC) <br/> - International Standard Industrial Classification of All Economic Activities, Revision 4 | Classifications related to economics, industrial areas and products, from the UN                 | ?                            |
| [UNBIS Thesaurus](https://research.un.org/en/thesaurus/downloads)                                                                                                                                                                                        | Thesaurus of issues related to the work of the UN                                                | N                            |
| [Geological Survey of Austria Geological Thesaurus (Minerals, Mineral Resources, Lithology)](https://thesaurus.geolba.ac.at/)                                                                                                                            | Geological classifications from the Geological Survey of Austria                                 | N                            |
| [U.S. DEPARTMENT OF AGRICULTURE Agricultural Thesaurus and Glossary](https://agclass.nal.usda.gov/)                                                                                                                                                      | Food systems and agricutltural classifications from the United States Dept. of Agriculture       | N                            |
| [US Geological Survey linkout to other glossary/thesauri](https://www.usgs.gov/products/data-and-tools/data-management/keywords)                                                                                                                         | Geological classifications and other vocabularies, linked by the United States Geological Survey | N                            |
| [North American Industry Classification System](https://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2017)                                                                                                                                           | Industry area and economic classifications from the United States Census                         | ?                            |
<br/>

## **Setting up text mining pipelines**


### **Downloading vocabularies and doing file conversions**

Vocabularies and ontologies above were either downloaded in RDF/XML, TTL, XLSX or CSV formats in total or after completing a SPARQL query for the alternate and preferred label in the scheme.  For a few resources, I used the SPARQL endpoint with the following queries to extract English labels.

```SQL

PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
PREFIX skosxl: <http://www.w3.org/2008/05/skos-xl#> 
SELECT ?concept ?prefLabel (GROUP_CONCAT ( concat('"',?altLabel,'"@',lang(?altLabel)); separator=", " ) as ?altLabels) 
WHERE { 
  ?concept a skos:Concept . 
  ?concept skosxl:prefLabel/skosxl:literalForm ?prefLabel . 
  BIND("en" AS ?lang)
  FILTER(lang(?prefLabel) = ?lang) 
  OPTIONAL{
    ?concept skosxl:altLabel/skosxl:literalForm ?altLabel . 
    FILTER(lang(?altLabel) = ?lang) 
  }
}
GROUP BY ?concept ?prefLabel

#####################################################

PREFIX skos:<http://www.w3.org/2004/02/skos/core#>
SELECT ?Concept ?prefLabel ?altLabel ?broader
WHERE
{
?Concept ?x skos:Concept .
{ ?Concept skos:prefLabel ?prefLabel . FILTER (regex(lang(?prefLabel), 'en$', 'i'))  }
{ ?Concept skos:altLabel ?altLabel . FILTER (regex(lang(?altLabel), 'en$', 'i'))  }
?Concept skos:broader ?broader .
 } 

```

For sources which did not have an immediately accessible SPARQL endpoint, I used Protege to open vobularies and ontologies in RDF/XML, NT, TTL formats, identify individual entities and extract relationships into CSV format.  Given my novice SPARQL skills, I found it easier to manipulate the CSV using Excel and Python.  

### **Evaluating NLPre scripts**

To decide replacement scheme, I reviewed test the test files in the NLPre pipeline and the function for making replacements.  The scheme yields documents which are scanned for keyterms across multiple dictionaries, with the output being tagged ngrams in the source document as well as an index of entities appearing each vocabulary or ontology.

***Example output from replace_from_dictionary()***
```python 
doc = "lymphoma survivors in korea . Describe the correlates of unmet needs among non_Hodgkin_lymphoma ( non_Hodgkin_lymphoma ) survivors in Korea and identify non_Hodgkin_lymphoma patients with an abnormal white blood cell count ."

tagged = replace_from_dictionary(prefix="*MeSH*_")(doc)

tagged
> Out[5]: 'lymphoma survivors in korea .Describe the correlates of unmet needs among non_Hodgkin_lymphoma ( non_Hodgkin_lymphoma ) survivors in Korea and identify non_Hodgkin_lymphoma patients with an abnormal *MeSH*_Leukocyte_Count .'
```

***Updating the term index***

Based on the replace_from_dictionary function, I created a function that would then check for tagged ngrams and add them to a main index of documents and identified terms from each linked-data dictionary used. The resulting function is shown below:


```python 
class update_term_index(object):

    """
    After replace_dictionary is run:
        1. update the user's index of terms found in each document
        2. remove the prefix tag from the previous dictionary so another round of tagging can occur

    Note: this class should be modified to enhance flexibility with respect to prefix/suffix tagging.
    For now, note that tags should be flanked appear flanked with asterisks and ending with underscore,
        like: *MeSH*_
    TO DO: replace the regex to one which is simply r"^"+vocab_key+([a-zA-Z0-9]+[\_]*)
    """

    def __init__(self, prefix=False, suffix=False,vocab_key="",dict_in=None,doc_key=""):
        """
        Initialize the indexer.

        Args:
            prefix: if the replacer used a prefix, set to true to look for prefix tagged terms
            suffix: if the replacer used a suffix, set to true to look for suffix tagged terms
            vocab_key: the tag prefix/suffix used for the currently tagged dictionary
            dic_in: a dictionary object to be used as a document/vocab index
            doc_key: a document id to be used in the document/vocab index
        """
        self.logger = logging.getLogger(__name__)


        self.prefix = prefix
        self.suffix = suffix
        self.vocab_key = vocab_key
        self.doc_key = doc_key
        self.dict_in = dict_in


    def __call__(self, doc):
        """
        Runs the indexer.

        Args:
            doc: the previously tagged document string
        Returns:
            doc_out: a de-tagged document string
            dict_in: the updated document/term index
        """

        
        # the list of all hits    
        # for input document, extract all dictionary hits and add them to the dictionary
        # TO DO: update to include True/False check for prefix/suffix,
        # TO DO: update to include a regex like: r"^"+vocab_key+([a-zA-Z0-9]+[\_]*) 
        #   to allow for more flexibletagging prefix/suffix
        hits = re.findall(r"\*[\_A-Za-z]+\*[\_a-zA-z]+",doc)
        
        # add an index entry for the given vocabulary for the document
        vocabDict = {self.vocab_key: hits}
        self.dict_in[self.doc_key].update(vocabDict)
        
        # detag the document
        doc_out = doc
        for h in hits:
            doc_out = doc_out.replace(h,h.replace(self.vocab_key,"").replace("_"," "))
        
        return [doc_out,self.dict_in]
```
**Sample output**

The sample below shows a document list object, and an example document/vocabulary index.  The actual vocabularies were not called upon to create the output here; instead, just the prefixes were changed and the default MeSH dictionary was called three times with a new prefix.  You can still see that the identified term *"white blood cell count"*--which was converted to *"*MeSH*_Leukocyte_Count"* by the replacer--now appears without demarcation, and can potentially be identified again by another vocabulary. This is useful in cases where we want to use several related ontologies or vocabularies to identify terms.  In the future, though, to ensure that the replacement schemes for one dictionary don't obfuscate attempts by later dictionaries, we should either modify the replacement function or the indexer function to capture swapped terms and revert the text before it is called again with another vocabulary file.


```json
// the docList contains the de-tagged document
docList  
{
    "doc_001": "lymphoma survivors in korea .\nDescribe the correlates of unmet needs among non_Hodgkin_lymphoma ( non_Hodgkin_lymphoma ) survivors in Korea and identify non_Hodgkin_lymphoma patients with an abnormal Leukocyte Count ."
}

// the mainIndex includes a list of identified terms for a given document and each vocabulary used
mainIndex
{
"doc_001": 
    {
        "*MeSH*_": ["*MeSH*_Leukocyte_Count"],
        "*EIGE*_": ["*EIGE*_Leukocyte_Count"],
        "*AGROVOC*_": ["*AGROVOC*_Leukocyte_Count"]
    }
}
```

### **Selecting and preparing vocabularies for replacement scheme**

The National Library of Medicine's Medical Subject Headings (MeSH) are included with the NLPre package.  The dictionary file includes a `term` column and a `replacement` column for over 190,000 terms. For the replacement, a given term label may *either*:

- simply be swapped for a version where whitespaces are swapped for underscores, *or* 
- the label may be *swapped* with either a label corresponding to a broader taxonomic category to which the entity belongs, or a preferred label for entities with multiple ways of being named 

In a linked-data context, co-reference resolution is managed by the application of URIs to a given entity which can have a single preferred label and many alternate labels.  Relations in the ontology usually map terms to broader or narrower concepts, with the multiple kinds of labeling schemes aiding machine understanding of the semantic relationships between the referred to entities and latent concepts.  In conversation with one of the package's authors, Travis Hoppe, I confirmed that the packaged MeSH dictionary uses simply uses all 2+ word terms and utilized some bit of semantic "rounding-up" for different label sets.  For instance, in the example above `"white blood cell count"` is one of 16 labels that are all replaced by the more generic `"Leukocyte_Count"`. 

For the resources marked 'Y' in the table above, I ensured that all alternate labels appeared as a term to be replaced by a processed preferred label (with punctuation swapped for underscores).  Additionally, all preferred labels themselves are included with a processed replacement label.  For a few resources, including the STW Thesaurus of Economics and the UN Food and Agriculture Organization AGROVOC thesaurus, it appeared that alternate and preferred label relations also encoded some level of taxonomic relationship.  Beside allowing these replacement schemes to persist, though, I made no additional effort at this time to do any semantic "rounding-up" within taxonomies.  In order to make more informed semantic text mining decisions, I'd like to gain more facility navigating and extracting elements from RDF.

### **Running the pre-processing pipeline**

Successfully running the edited pre-processing pipeline took me to the limits of my Python programming knowledge.  Being aware of the utility and efficiency of the batched job queuing employed within the NIH word2vec pipeline, yet unable to quite grasp how to edit the package to successfully implement my own addition given time constraints, I resorted to taking a piecemeal approach.  

First, I ran the half of the processing pipeline using the command line data import and parse steps from the word2vec pipeline.  This included steps to identify acronyms and abbreviations in the text, handle unicode decoding issues, handling hyphenated words, removing title caps, replacing acronyms with their expanded forms, and expanding parenthetical comments into standalone sentences.  

Next, using this partially processed output, I ran the replace and update dictionary steps within my iPython console from Spyder.  I did this for seven of my vocabularies, excluding the Medical Subject Headings (MeSH) dictionary built in to NLPre, which is much larger (600K+ terms) than my other dictionaries [MAX TERMS--specify].  In the future, I need to re-write this script to do batch processing like the word2vec pipeline does; it took upwards of 36 hours to process the 65,000 records and create an index of all found vocabulary terms.  At the moment, I was pleased that it worked at all and I was content to take time away from the computer.  When I subsequently ran the MeSH dictionary using the in-built functions in the word2vec pipeline, it took only about 3 minutes to process the records.  I then imported the tagged documents into my [`update_term_index.py`](scripts/update_term_index.py) script and updated my main document index with the results from the MeSH tagging.  

Last, on the tagged output, I ran the final pipeline steps -- including token_replacement to take care of punctuation and special characters, and a part-of-speech tokenizer to remove words irrelevant to the subject matter of the award.



#### **Geocoding**

Using Geocod.io to doing the geocoding using the Address, City, State, ZIP code fields for all ~29K unique recipients.  The service added 2018 census information including Census Tracts, Blocks, Metropolitan Area Divisions, and congressional district information for the 117th Congress (2021).  In approximately 14 minutes, I could download the file at a cost of ~$40.  Even though I was going to have to join additional congressional and county level identifiers in later, I though it was worth the cost to get started.  There were 75 of 29,000 recipients (0.25%) that required manual validation, which I did using Google Maps.

With the geocoded recipients output, I then used qGIS to join the additinal congressional district and county level identifiers.  Adding the county and district GEOIDs make the geographic queries possibe on the dashboard tool.  Once I had a fully geo-coded recipients file, I then joined the addtional geographic information back into the awards file using a [python script](scripts/join_geocodedRecips.py).

The SBIR awards data includes repeat recipients that sometimes have several DUNS Numbers or multiple addresses. The qGIS output files included identifiers for the 113th and 116th Congresses, as well as county FIPS identifiers.  I joined the output back into the awards data by using the recipient DUNS#, name, and address; only 160 of 65,749 (< 0.25%) required manual validation.  Using the various iterations of geocoded recipients data, I was able to manually correct these 160 awards by triangulating across various outputs.  I only had to manually validate 1 additional recipient to complete this step.


#### **Spatial clustering**

Describe spatial clustering rationale, incl. literature
Describe the R scripts to do it and the packages used;  the output variable name is identifiable later on [script1 - cong dist level](scripts/LISA_stats_acsIndustry.R) and [script2 - county level](scripts/LISA_stats_acsIndustry_COUNTY.R)

Describe the spatial unit of analysis rationale, CD 113 and 116, county(?) and a percent change stat for hot-spot analysis
Unit of analysis at CD level is not adequate for temporal comparisons in some areas, so we also include the county level which is more stable than CD's 
But, CD is useful for the policy analyst / policy maker framing of this project

Describe results of clustering at hte pct change delta level -- basically, not significant spatial clustering, meaning that the changes in pct of population employed in an industry in one county didnt appear to be strongly dependent on the dynamcis of a neighboring county between in the 2008-2013 and 2013-2018 period.

Moran's I Values [LINK](data/ACS_Industry_5yrEst/moransI_values.csv)

However, certain industries are more strongly positively clustered than others -- detail

Also, clustering at CD level is more significnat usually than at county level; makes sense since in most cases CD's can aggregate several counties over large swaths of land whereas and in others CDs are urban and dense and next to others whose spillover effects are likely more significant than they would be in larger but sparsely populated areas



<br/><br/>
