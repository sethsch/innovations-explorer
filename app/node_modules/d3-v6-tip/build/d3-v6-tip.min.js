!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-selection"],e):e(t.d3=t.d3||{},t.d3)}(this,function(t,e){"use strict";t.tip=function(){const t=function(t){return"function"==typeof t?t:function(){return t}};var n=function(){return"n"},o=function(){return[0,0]},r=function(){return" "},i=p(),l=null,s=null,f=null;function u(t){var e;l="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,s=l.createSVGPoint(),document.body.appendChild(i)}u.show=function(){var t=Array.prototype.slice.call(arguments);t[0]instanceof Event&&(f=t[0].target),t[t.length-1]instanceof SVGElement&&(f=t.pop());var e,i=r.apply(this,t),l=o.apply(this,t),s=n.apply(this,t),p=y(),d=a.length,m=document.documentElement.scrollTop||document.body.scrollTop,h=document.documentElement.scrollLeft||document.body.scrollLeft;for(p.html(i).style("position","absolute").style("opacity",1).style("pointer-events","all");d--;)p.classed(a[d],!1);return e=c[s].apply(this),p.classed(s,!0).style("top",e.top+l[0]+m+"px").style("left",e.left+l[1]+h+"px"),u},u.hide=function(){return y().style("opacity",0).style("pointer-events","none"),u},u.attr=function(t,n){if(arguments.length<2&&"string"==typeof t)return y().attr(t);var o=Array.prototype.slice.call(arguments);return"class"==t?y().classed(n,!0):e.selection.prototype.attr.apply(y(),o),u},u.style=function(t,n){if(arguments.length<2&&"string"==typeof t)return y().style(t);var o=Array.prototype.slice.call(arguments);if(1===o.length){var r=o[0];Object.keys(r).forEach(function(t){return e.selection.prototype.style.apply(y(),[t,r[t]])})}return u},u.direction=function(e){return arguments.length?(n=null==e?e:t(e),u):n},u.offset=function(e){return arguments.length?(o=null==e?e:t(e),u):o},u.html=function(e){return arguments.length?(r=null==e?e:t(e),u):r},u.destroy=function(){return i&&(y().remove(),i=null),u};var c={n:function(){var t=d();return{top:t.n.y-i.offsetHeight,left:t.n.x-i.offsetWidth/2}},s:function(){var t=d();return{top:t.s.y,left:t.s.x-i.offsetWidth/2}},e:function(){var t=d();return{top:t.e.y-i.offsetHeight/2,left:t.e.x}},w:function(){var t=d();return{top:t.w.y-i.offsetHeight/2,left:t.w.x-i.offsetWidth}},nw:function(){var t=d();return{top:t.nw.y-i.offsetHeight,left:t.nw.x-i.offsetWidth}},ne:function(){var t=d();return{top:t.ne.y-i.offsetHeight,left:t.ne.x}},sw:function(){var t=d();return{top:t.sw.y,left:t.sw.x-i.offsetWidth}},se:function(){var t=d();return{top:t.se.y,left:t.e.x}}},a=Object.keys(c);function p(){let t=e.select(".d3-tip-lib-node");return t.node()||(t=e.select(document.createElement("div"))),t.classed("d3-tip-lib-node",!0).style("position","absolute").style("top","0").style("opacity","0").style("pointer-events","none").style("box-sizing","border-box"),t.node()}function y(){return null===i&&(i=p(),document.body.appendChild(i)),e.select(i)}function d(){for(var t=f||d3.event.target;void 0===t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},n=t.getScreenCTM(),o=t.getBBox(),r=o.width,i=o.height,l=o.x,u=o.y;return s.x=l,s.y=u,e.nw=s.matrixTransform(n),s.x+=r,e.ne=s.matrixTransform(n),s.y+=i,e.se=s.matrixTransform(n),s.x-=r,e.sw=s.matrixTransform(n),s.y-=i/2,e.w=s.matrixTransform(n),s.x+=r,e.e=s.matrixTransform(n),s.x-=r/2,s.y-=i/2,e.n=s.matrixTransform(n),s.y+=i,e.s=s.matrixTransform(n),e}return u},Object.defineProperty(t,"__esModule",{value:!0})});