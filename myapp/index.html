<!doctype html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/ >
		<!-- Required meta tags -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
	
		<title>Public Innovations Explorer</title>

		
		<!--Bootstrap css-->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
		<link rel='stylesheet' type='text/css' href="mockup_style.css">
		
 

		<!-- SlickGrid -->
		<link rel="stylesheet" href="./node_modules/slickgrid/slick.grid.css" type="text/css"/>
		<link rel="stylesheet" href="./node_modules/slickgrid/jquery-ui-1.8.16.custom.css" type="text/css"/>
		
		
		<!-- note: edit the custom, final stylesheet to edit slick grid styles-->
		<link rel="stylesheet" href="./node_modules/slickgrid/examples.css" type="text/css"/>
		<link rel="stylesheet" href="./node_modules/slickgrid/slick.pager.css" type="text/css"/>



		<script src="./node_modules/slickgrid/jquery-1.7.min.js"></script>
		<script src="./node_modules/slickgrid/jquery.event.drag-2.0.min.js"></script>
		<script src="./node_modules/slickgrid/plugins/slick.rowselectionmodel.js"></script>

		<script src="./node_modules/slickgrid/slick.core.js"></script>
		<script src="./node_modules/slickgrid/slick.grid.js"></script>
		<script src="./node_modules/slickgrid/slick.pager.js"></script>
		<script src="./node_modules/slickgrid/slick.dataview.js"></script>


		<!-- End SlickGrid -->
		
		<!-- Leaflet.js -->

		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin=""/>
		<!-- Make sure you put this AFTER Leaflet's CSS -->
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>

		

		<!-- Leaflet Marker Clusters-->
		<link rel="stylesheet" type="text/css" href="./node_modules/leaflet.markercluster/dist/MarkerCluster.css" />
		<link rel="stylesheet" type="text/css" href="./node_modules/leaflet.markercluster/dist/MarkerCluster.Default.css" />

		<script type='text/javascript' src='./node_modules/leaflet.markercluster/dist/leaflet.markercluster.js'></script>
		<!-- geojson data-->
		<Script type='text/javascript' src='./data/cd116_5yearACS2018_LISAclust.js'></Script>

		<!-- D3.js -->
		<script src="./node_modules/d3/dist/d3.min.js" charset="utf-8"></script>

		
		
		<!-- look at the following for modification possibilities:
		http://bl.ocks.org/syntagmatic/4020926 - for mouse positino highlighting, and ordinal axis (States)
		https://bl.ocks.org/larsenmtl/e3b8b7c2ca4787f77d78f58d41c3da91 -- for mouse hover, and line labeling
		https://github.com/BigFatDog/parcoords-es -- for resusable parallel coords modules
		https://github.com/syntagmatic/parallel-coordinates -- for reusable parallel coords modules
		http://bl.ocks.org/syntagmatic/raw/3150059/ -- for parallel coords dashboard example that queries data
		
			https://eagereyes.org/techniques/parallel-coordinates -- for technique explanation
		
		<script src="./node_modules/divgrid.js"></script>-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
		<link rel="stylesheet" type="text/css" href="./node_modules/parcoord-es/dist/parcoords.css">
		<script src="./node_modules/parcoord-es/dist/parcoords.standalone.js"></script>
		<script src="./node_modules/underscore/underscore.js"></script>
		<script src="./node_modules/underscore/underscore.math.js"></script>
		<script src="./node_modules/simple-statistics/dist/simple-statistics.min.js"></script>
		<script src='https://unpkg.com/simple-statistics@7.5.0/dist/simple-statistics.min.js'></script>
		<script src="https://unpkg.com/d3-scale-cluster@1.3.1/dist/d3-scale-cluster.min.js"></script>


		

		
		
		
	</head>
	<body>

		<!-- TITLE -->
	<section id="intro-section">
		<div id="title-panel">
		
				<h1 id="page-title" class="display-1">Public Innovations Explorer</h1>
				<h1 id="page-subtitle" class="display-5"><em>public funding & innovation economies</em>
				</h1>
	
			<div id="intro-panel">

				<div id="intro-text">
					<p>Where has innovation been taking place across the United States? 
						Outside universities and large research institutions, small businesses are dynamic and active contributors to the development of new knowledge and innovative scientific and technical solutions to a variety of 21st century challenges. 
						The <strong><em>Public Innovations Explorer</em></strong> is a window in to a decade of Federally-funded research and technological innovations by small businesses around the country.</p>

					<p>The Small Business Innovation Research (SBIR) and Small Business Technology Transfer (STTR) programs are highly competitive programs that encourage domestic small businesses to engage in Federal Research/Research and Development (R/R&D) with the potential for commercialization. 
						Through a competitive awards-based program, SBIR and STTR enable small businesses to explore their technological potential and provide the incentive to profit from its commercialization. By including qualified small businesses in the nation's R&D arena, high-tech innovation is stimulated, and the United States gains entrepreneurial spirit as it meets its specific research and development needs.
						Central to the STTR program is the partnership between small businesses and nonprofit research institutions. The STTR program requires the small business to formally collaborate with a research institution in Phase I and Phase II. STTR's most important role is to bridge the gap between performance of basic science and commercialization of resulting innovations. </p>
				</div>
				


				<div id="fullscreen">
					<a class="btn btn-block" href="#explorer-section">
						<svg id="downbutton" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
							<path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
						</svg>
					</a>
				</div>

				
					

			</div>


		</div>
		</section>
		<a NAME="explorer-section"></a>
		<section id="explorer-section-id">
		<!--NAV BAR-->
		<!-- examples: https://www.codeply.com/go/qhaBrcWp3v -->
		<!-- example 3 - Navbar with brand left, links on center and right that collapse into the vert mobile menu-->
		<nav class="navbar navbar-dark sticky-top py-1 navbar-expand bg-dark justify-content-center" id="navbar-top">
			<h1 class="navbar-brand d-flex w-50 mr-auto pub-inno-title" style="padding-left: 4%;">Public Innovations Explorer</h1>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar3">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="navbar-collapse collapse w-100" id="collapsingNavbar3">
				<ul class="navbar-nav w-100 justify-content-center">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" id="agency-select" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							Federal Funding Agencies
						</a>
						<ul class="dropdown-menu agency-input-container" aria-labelledby="agency-select">
							<form class="form-inline form-check">
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Agriculture">
									<label class="form-check-label agency-input" for="Department-of-Agriculture">Department of Agriculture</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Commerce" checked>
									<label class="form-check-label agency-input" for="Department-of-Commerce">Department of Commerce</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Defense">
									<label class="form-check-label agency-input" for="Department-of-Defense">Department of Defense</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Education">
									<label class="form-check-label agency-input" for="Department-of-Education">Department of Education</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Energy" checked>
									<label class="form-check-label agency-input" for="Department-of-Energy">Department of Energy</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Health-and-Human-Services">
									<label class="form-check-label agency-input" for="Department-of-Health-and-Human-Services">Department of Health and Human Services</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Homeland-Security">
									<label class="form-check-label agency-input" for="Department-of-Homeland-Security">Department of Homeland Security</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Department-of-Transportation" checked>
									<label class="form-check-label agency-input" for="Department-of-Transportation">Department of Transportation</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="Environmental-Protection-Agency" checked>
									<label class="form-check-label agency-input" for="Environmental-Protection-Agency">Environmental Protection Agency</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="National-Aeronautics-and-Space-Administration">
									<label class="form-check-label agency-input" for="National-Aeronautics-and-Space-Administration">National Aeronautics and Space Administration</label>
								</div>
								<div class="form-group">
									<input type="checkbox" class="form-check-input agency-checkbox" id="National-Science-Foundation" checked>
									<label class="form-check-label agency-input" for="National-Science-Foundation">National Science Foundation</label>
								</div>
								
								<div class="agency-input-divider"></div>
							</form>
							<div class="form-row align-items-center">
								<div class="col-auto my-1 update-divider">
								  <button type="submit" class="btn btn-secondary btn-sm btn-block agency-update-btn" id="agency-update-btn">Update</button>
								</div>
							</div>
						</ul>
						

					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" id="years-select" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							Award Years
						</a>
						<ul class="dropdown-menu year-input-container" aria-labelledby="years-select">

							<form class="form-row align-items-center">
								<div class="col-auto my-1">
									<label for="year-select-1" class="col-sm-2 col-form-label year-input-label">From</label>
									<select id="year-select-1" class="form-select form-select-sm mb-3 year-input" aria-label=".form-select-sm example">
										
									  </select>
								</div>
								<div class="col-auto my-1">
									<label for="year-select-2" class="col-sm-2 col-form-label year-input-label">To</label>
									<select id="year-select-2" class="form-select form-select-sm mb-3 year-input" aria-label=".form-select-sm example">
										
									  </select>
								</div>

							</form>
							<div class="form-row align-items-center">
								<div class="col-auto my-1 update-divider">
								  <button type="submit" class="btn btn-secondary btn-sm btn-block year-update-btn" id="year-update-btn">Update</button>
								</div>
							</div>
							

						</ul>
						
					</li>
				</ul>
				<ul class="nav navbar-nav ml-auto w-100 justify-content-end" style="padding-right: 6%;">
					
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="collapsingNavbar3MenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						About
						</a>
						<ul class="dropdown-menu about-menu-container" aria-labelledby="collapsing3NavbarMenuLink">
							<li><a class="dropdown-item" href="examples.html">User guide</a></li>
							<li><a class="dropdown-item" href="#">Background</a></li>
							<li><a class="dropdown-item" href="#">Data sources</a></li>
						</ul>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="#"></a>
					</li>
				</ul>
			</div>
		</nav>


		<!--MAIN PANEL-->
		<div class="container-fluid h-100 d-flex flex-column" id="main-panel">
			
			<div class="row flex-fill" style="min-height:0">
				<!-- START OF MAIN PANEL LEFT-->
				<!-- TO ADD SCROLL IN THIS COLUMN: style="overflow-y: scroll;"-->
				<div class="col-8 mh-100"  id="map-par-panel">

					<!-- LEAFLET MAP -->
					<!--<h5>Congressional Districts Map</h5>-->
					<div id="map"></div>
					
					<!--parallel coordinates options and search bar-->
					<nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="profiler-nav">
						<!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						  <span class="navbar-toggler-icon"></span>
						</button>
					-->
						<div class="navbar-nav" id="navbarSupportedContent" style="padding-right: 5%;">
						  <div class="navbar-nav mr-auto">
								<li class="nav-item dropdown">
									<!-- removed dropdown functionality from this link for now:
										to add it back:
										class="nav-link dropdown-toggle"
										role="button" data-bs-toggle="dropdown"
									
									-->
									<a class="nav-link dropdown-toggle" id="navbarDropdown"  role="button" data-bs-toggle="dropdown" aria-expanded="false">
									Congressional district profiler
									</a>
									<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
									<li><h6 class="dropdown-header">By socio-economic profile</h6></li>
									<li><a class="dropdown-item parcoords-state" id="econ">Employment sectors</a></li>
									<li><hr class="dropdown-divider"></li>
									<li><h6 class="dropdown-header">By funding details</h6></li>
									<li><a class="dropdown-item parcoords-state" id="funding">Funding agencies</a></li>
									</ul>
								</li>
								<li class="radio" id="funded-radio">
									<label class="radio-inline">
									  <input type="radio" name="fund-radio" value="all_distr" checked> All districts</label>
									<label class="radio-inline">
									  <input type="radio" name="fund-radio" value="funded_distr"> Funded only</label>
								</li>
						
							</div>
						</div>
							<form class="form-inline">
								<input class="form-control form-control-sm" type="search" placeholder="Search states & districts" aria-label="Search districts" id="parcoords-search" onkeypress="return event.keyCode!=13">
							</form>
					  </nav>

					<!-- LEGEND / INFO BAR -->  
					<div class="container" id="legend-infobar">
						<div class="row"">
							<div class="col-sm-3" id="legend">
								<div class="legend">
									<svg>
										<g>
											<g class="legendCells">
												<g class="cell" transform="translate(0,0)">
													<rect class="swatch" height="15" width="40" style="fill: rgb(43, 131, 186);"></rect>
													<text class="label leg-swatch" transform="translate(20,33)" style="text-anchor: middle;"></text>
												</g>
												<g class="cell" transform="translate(42,0)">
													<rect class="swatch" height="15" width="40" style="fill: rgb(138, 190, 173);"></rect>
													<text class="label leg-swatch" transform="translate(20,33)" style="text-anchor: middle;"></text>
												</g>
												<g class="cell" transform="translate(84,0)">
													<rect class="swatch" height="15" width="40" style="fill: rgb(218, 199, 130);"></rect>
													<text class="label leg-swatch" transform="translate(20,33)" style="text-anchor: middle;"></text>

													<!--<text class="label leg-swatch-manual" transform="translate(20,50)" style="text-anchor: middle;">Nat'l Avg.</text>-->
												</g>
												<g class="cell" transform="translate(126,0)">
													<rect class="swatch" height="15" width="40" style="fill: rgb(243, 134, 72);"></rect>
													<text class="label leg-swatch" transform="translate(20,33)" style="text-anchor: middle;"></text>
												</g>
												<g class="cell" transform="translate(168,0)">
													<rect class="swatch" height="15" width="40" style="fill: rgb(215, 25, 28);"></rect>
													<text class="label leg-swatch" transform="translate(20,33)" style="text-anchor: middle;"></text>
												</g>
												
											</g>
										</g>
									</svg>
								</div>
							</div>
							<div class="col-sm-8">
								<div class='info-bar' id='info-bar'></div>
							</div>
							<div class="col-sm-1">
								<div id="bar-icons" class="parcoords-info-circle" >
								
										<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="black" class="bi bi-arrow-clockwise" id="reload-parcoords-icon" title="Reload chart" viewBox="0 0 20 20">
											<path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
											<path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
										</svg>
										<svg data-bs-toggle="modal" data-bs-target="#parcoordsInfoModal" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="black" class="bi bi-info-circle" id='info-circle-icon' viewBox="0 0 20 20">
											<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
											<path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
										</svg> 

								</div>
							</div>
						
						</div>
					</div>
					<!-- Modal -->
					<!-- Modal -->
					<div class="modal fade" id="parcoordsInfoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"">
						<div class="modal-content">
							<div class="modal-header">
								<h6 class="modal-title" id="exampleModalLabel">User Tips</h6>
								<button type="button" class="btn-sm btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
							<div class="modal-body">

								<ul class="nav nav-tabs" id="userTipsTabs" role="tablist">
									<li class="nav-item user-tip-nav" role="presentation">
										<button class="nav-link active" id="map-user-tip-tab" data-bs-toggle="tab" data-bs-target="#map-user-tip" type="button" role="tab" aria-controls="map-user-tip" aria-selected="true">Districts Map</button>
									</li>
									<li class="nav-item user-tip-nav" role="presentation">
										<button class="nav-link" id="profiler-user-tip-tab" data-bs-toggle="tab" data-bs-target="#profiler-user-tip" type="button" role="tab" aria-controls="profiler-user-tip" aria-selected="false">Districts Profiler</button>
									</li>
									<li class="nav-item user-tip-nav" role="presentation">
										<button class="nav-link" id="funding-details-user-tip-tab" data-bs-toggle="tab" data-bs-target="#funding-details-user-tip" type="button" role="tab" aria-controls="funding-details-user-tip" aria-selected="false">Funding Details</button>
									</li>
								</ul>
									<div class="tab-content" id="userTipsTabsContent">
												<!-- MAP USER TIPS -->
												<div class="tab-pane fade show active" id="map-user-tip" role="tabpanel" aria-labelledby="map-user-tip-tab">
													<div class="container">
														<div class="row">
															<div class="col-3 tip-point">
																<p>Switch data</p>
															</div>
															<div class="col-9 tip-description">
																<p>Data feeding the Districts Profiler also feeds the Districts Map. Choose whether you want to color districts by funding details or economic characteristics using the Profiler dropdown menu.</p>
															</div>
														</div>
														<div class="row">
															<div class="col-3 tip-point">
																<p>Hot spots & cold spots</p>
															</div>
															<div class="col-9 tip-description">
																<p><span style="color:red"><strong>Red-outlined districts</strong></span> belong to <span style="color:red"><strong>hot-spots</strong></span> for a given labor sector, 
																	meaning they and their neighboring districts have higher-than average employment 
																	in the selected sector.</p>  
																<p><span style="color:blue"><strong>Blue-outlined districts</strong></span> belong to <span style="color:blue"><strong>cold-spots</strong></span>, clusters of districts where employment in the selected sector is lower than average.</p>
															</div>
														</div>
														<div class="row">
															<div class="col-3 tip-point">
																<p>Search for districts</p>
															</div>
															<div class="col-9 tip-description">
																<p>Use the search bar to identify particular states, zooming in to the relevant area on the Districts Map and marking the corresponding paths in the Districts Profiler.</p>
															</div>
														</div>
													</div>
												</div>
										<!-- PROFILER USER TIPS -->
										<div class="tab-pane fade" id="profiler-user-tip" role="tabpanel" aria-labelledby="profiler-user-tip-tab">
											<div class="container">
												<div class="row">
													<div class="col-3 tip-point">
														<p>Switch data</p>
													</div>
													<div class="col-9 tip-description">
														<p>Use the Congressional Districts Profiler dropdown menu to switch from economic data to funding agencies.</p>
														<p>Each wavy line represents a district, and where it passes through each axis represents either that district's proportion of labor force working in that sector (from the labor force data), or the total SBIR/STTR funding received by companies in that district (from the funding data). </p>													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Change the color palette</p>
													</div>
													<div class="col-9 tip-description">
														<p>Click on an axis or the axis label to set that axis as the color palette for the parallel coordinates chart as well as the districts map.</p>

														<img src="./img/change_color2.gif" class="parcoords-img">
														
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Filtering districts</p>
													</div>
													<div class="col-9 tip-description">
														<p>Use the crosshairs to select districts falling within particular ranges. These districts will become highlighted on the map.</p>

														<img src="./img/set_brushes2.gif" class="parcoords-img">
														
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Remove filters</p>
													</div>
													<div class="col-9 tip-description">
														<p>Remove filters by clicking outside of the selected range with the crosshairs.</p>

														<img src="./img/reset_brushes2.gif" class="parcoords-img">
														
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Removing axes</p>
													</div>
													<div class="col-9 tip-description">
														<p>Remove an axis from the chart by clicking <strong>X</strong>.</p>													

														<img src="./img/remove_axis2.gif" class="parcoords-img">
														
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Reorder axes</p>
													</div>
													<div class="col-9 tip-description">
														<p>Click and drag axis to reorder how they appear.</p>													

														<img src="./img/drag_axis2.gif" class="parcoords-img">
														
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Reset axes</p>
													</div>
													<div class="col-9 tip-description">
														<p>After removing axes, click the reload icon to reload the chart. You can also use the reload button to redraw the chart, if you encounter bugs when resizing the window.</p>													

														<img src="./img/reload_updateAxes2.gif" class="parcoords-img-lg">
														
													</div>
												</div>
									
												
											</div>
										</div>
										<!-- FUNDING DETAILS TIPS -->
										<div class="tab-pane fade" id="funding-details-user-tip" role="tabpanel" aria-labelledby="funding-details-user-tip-tab">
											<div class="container">
												<div class="row">
													<div class="col-3 tip-point">
														<p>Selecting agencies and years</p>
													</div>
													<div class="col-9 tip-description">
														<p>Using the dropdown menus in the header, you can select particular Federal departments and agencies particpating in the SBIR/STTR grant-making programs, and particular ranges of award years. </p>
														<p>The District Summary, recipients, and grant details will automatically be regenerated based on your selection.</p>
													</div>
												</div>
												<div class="row">
													<div class="col-3 tip-point">
														<p>Locate recipients</p>
													</div>
													<div class="col-9 tip-description">
														<p>Double click recipient names in the table to locate the recipient in the map and see the grants received.</p>
														<p>Scroll through the popup to see individual grants awarded to the company. Note that some grantees may have received grants at multiple locations.</p>
														<p>A quick web search using the award title will reveal more info about the recipient and award on SBIR.gov</p>
														
													</div>
												</div>
											</div>
										</div>
									</div>

							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>
							</div>
						</div>
						</div>
					</div>					


								

			
						
						



					

					<!-- PARALLEL COORDINATES -->
					<div id="parcoords-container"></div>
				

					<!-- TABLE -->
					<div id="districts-table" class="districts-table"></div>
					<div id="pager"></div>

				
				
				
				<!-- END OF MAIN PANEL LEFT-->
				</div>

				<!-- START OF MAIN PANEL RIGHT-->
				<div class="col-4 mh-100" style="overflow-y: scroll;" id="summary-panel">

					<!-- SUMMARY TEXT-->

					<!-- use d3 to populate the selected district's name-->	
					<h4 id="district-summary-title">Welcome to the Public Innovations Explorer</h4>
			
					<div id="district-summary-text">
						<p class="default-welcome-summary">Explore funding by Federal agencies to small businesses for innovative research activities and technology transfer through the Small Business Innovation Research (SBIR) and Small Business Technology Transfer (STTR) grant making programs. </p>
							
						<p class="default-welcome-summary"><strong>Select</strong> the Federal agencies and years of interest from the menus in the navigation bar above. You can <strong>explore</strong> the map to find companies, and details about grants they were awarded.  Use the parallel coordinates plot to <strong>filter</strong> the congressional districts on the map, and identify hot spots and cold spots for different kinds of underlying economic activities. <strong>Click</strong> on a congressional district to see a summary of its funded research activities, labor profile and topics extracted from the funded research taking place there.</p>
	

					</div>
					

					<!-- START BAR GRAPH-->
					<div id="bargraph-area">
						<div class="row">
							<div class="col">
								<h5>Funding Details</h5>
							</div>
							<div class="col-auto">
								<a class="btn btn-block jump-button">
									<svg id="bargraph-jump-button-up" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
									</svg>
								</a>
								<a class="btn btn-block jump-button">
									<svg id="bargraph-jump-button-down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
									</svg>
								</a>
							</div>
						</div>
						<ul class="nav nav-tabs">
							<li class="nav-item">
							<a class="nav-link active graphsel" aria-current="page" id="agency-graph">Agencies</a>
							</li>
							<li class="nav-item">
							<a class="nav-link graphsel" id="recips-graph">Recipients</a>
							</li>
							<li class="nav-item">
							<a class="nav-link graphsel" id="grants-graph">Grant details</a>
							</li>
						</ul>
						<div id="bargraph"></div>
					</div>
					<!-- END BAR GRAPH -->



					<!-- START VOCAB PILLS-->
					<div id="vocab-pills-area">
						<div class="row">
							<div class="col">
								<h5>Topics</h5>
							</div>
							<div class="col-auto">
								<a class="btn btn-block jump-button">
									<svg id="vocab-jump-button-up" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
									</svg>
								</a>
								<!--
								<a class="btn btn-block jump-button" href="#">
									<svg id="vocab-jump-button-down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">
										<path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
									</svg>
								</a>
								-->
							</div>
						</div>
						<!-- <h5>Topics</h5> -->
						<ul class="nav nav-tabs" id="vocabTabs" role="tablist">
							<li class="nav-item">
								<a class="nav-link active vocabsel" id="All">All</a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" id="vocabs-dropdown" role="button" aria-expanded="false">From vocabulary</a>
								<ul class="dropdown-menu">
									<li><h6 class="dropdown-header">Controlled vocabularies</h6></li>
									<div class="dropdown-divider"></div>
									<li><a class="dropdown-item vocabsel" id="GEMET">GEMET</a></li>
									<li><a class="dropdown-item vocabsel" id="EIGE">EIGE</a></li>
									<li><a class="dropdown-item vocabsel" id="AGROVOC">AGROVOC</a></li>
									<li><a class="dropdown-item vocabsel" id="STW">STW</a></li>
									<li><a class="dropdown-item vocabsel" id="EUSCIVOC">EU-SCIVOC</a></li>
									<li><a class="dropdown-item vocabsel" id="EUVOC">EUVOC</a></li>
									<li><a class="dropdown-item vocabsel" id="MeSH">MeSH</a></li>
									<li><h6 class="dropdown-header">Emergent vocabulary</h6></li>
									<div class="dropdown-divider"></div>

									<li><a class="dropdown-item vocabsel" id="textrank-tfidf_keywords">Extracted keywords</a></li>
								</ul>
							</li>
							<li class="nav-item">
								<a class="nav-link vocabsel" id="vocabsInfo">Info</a>
							</li>
						</ul>
						<!-- D3 would add pills here, right now many are pasted to show scrolling functionality
						to add the title text with d3, see: https://chartio.com/resources/tutorials/how-to-show-data-on-mouseover-in-d3js/-->
						<div class="container-fluid" id="vocab-pills"></div>
						
		
					</div>
					<!-- END VOCAB PILLS-->

					<!-- ADD SPACER TO LET SCROLL UP TO TOP OF PANEL-->
					<div id="right-panel-spacer">

					</div>




				</div>
				
			</div>

			</section>
			<!-- FOOTER ROW-->
			<div class="row flex-shrink-0" id="footer-row">
				<div class="col-12 border">Footer </div>
			</div>
		
			
	</div>
	


	<!--boostrap bundle load-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

	<script
		src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
		crossorigin="anonymous">
	</script>

	
	<script type="text/javascript">
		//PAGE BEHAVIOR

		// enable tooltips
		var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
		var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
		return new bootstrap.Tooltip(tooltipTriggerEl)

		})
		// enable popovers

		var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
		var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
		return new bootstrap.Popover(popoverTriggerEl)
		})

		// scroll up down buttons in right hand panel
		$('#bargraph-jump-button-up').on("click",function() {
			$('#summary-panel').scrollTop(0);
		})
		$('#bargraph-jump-button-down').on("click",function() {
			var obj = $("#vocab-pills-area");
			var childPos = obj.offset();
			var parentPos = obj.parent().offset();
			var childOffset = {
				top: childPos.top - parentPos.top,
				left: childPos.left - parentPos.left
				};
			$('#summary-panel').scrollTop(childOffset.top*1.5)
		});
		$('#vocab-jump-button-up').on("click",function() {
			var obj = $("#bargraph-area");
			var childPos = obj.offset();
			//console.log("childposbargraph area",childPos)
			var parentPos = obj.parent().offset();
			var childOffset = {
				top: childPos.top - parentPos.top,
				left: childPos.left - parentPos.left
				};
			$('#summary-panel').scrollTop(0);

		});
		// enable year form validation
		// Example starter JavaScript for disabling form submissions if there are invalid fields
		(function () {
		'use strict'

		// Fetch all the forms we want to apply custom Bootstrap validation styles to
		var forms = document.querySelectorAll('.needs-validation')

		// Loop over them and prevent submission
		Array.prototype.slice.call(forms)
			.forEach(function (form) {
			form.addEventListener('submit', function (event) {
				if (!form.checkValidity()) {
				event.preventDefault()
				event.stopPropagation()
				}

				form.classList.add('was-validated')
			}, false)
			})
		})();
 


		

		

	</script>
	<!-- <link rel='stylesheet' type='text/css' href="style.css"> -->

	<script src="main.js"></script>
	

	</body>




	
</html>
